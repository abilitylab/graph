package cli

import (
	"fmt"
	"testing"

	"github.com/stretchr/testify/require"
)

var vecs = []float64{0.020214008167386055, 0.0591747984290123, -0.011925564147531986, -0.02036401629447937, 0.020720195025205612, 0.04780455678701401, -0.02109137922525406, -0.00009697277710074559, -0.0033141395542770624, -0.002502185758203268, 0.06340707093477249, 0.00013854690769221634, -0.0472230426967144, 0.10341087728738785, -0.01787547394633293, -0.0185463335365057, 0.03650199621915817, 0.018832800909876823, 0.015219355002045631, -0.028867771849036217, 0.03437838330864906, -0.052216917276382446, 0.017674650996923447, -0.019172370433807373, -0.04137057811021805, -0.025551065802574158, 0.056351739913225174, 0.013055629096925259, -0.046613115817308426, 0.04011924937367439, 0.0013531626900658011, 0.014934790320694447, -0.07155551761388779, -0.02422892302274704, 0.0000020750828753079986, -0.0255266185849905, -0.023891396820545197, 0.022725123912096024, -0.03208867460489273, -0.054592084139585495, -0.04777362942695618, -0.004344867076724768, -0.0020882640965282917, 0.0011919562239199877, -0.07672690600156784, 0.05913672596216202, -0.01919034868478775, 0.024472635239362717, -0.06828039139509201, -0.04787633195519447, 0.007911399006843567, -0.025796959176659584, -0.028466403484344482, 0.021076925098896027, -0.04348613694310188, -0.0018290991429239511, 0.01077553816139698, 0.05770104005932808, -0.008754950948059559, 0.007557603996247053, -0.011452972888946533, 0.014670701697468758, -0.013623959384858608, -0.0129099041223526, 0.014072136953473091, 0.04724280163645744, -0.028519095852971077, 0.0031921786721795797, -0.03958110138773918, -0.0029941515531390905, 0.05302179232239723, -0.02570924162864685, 0.03863508254289627, -0.02727768011391163, 0.011659219861030579, -0.016453539952635765, -0.015520219691097736, -0.023264847695827484, -0.000140819072839804, 0.02265678159892559, 0.020380206406116486, -0.002556431107223034, -0.010971138253808022, 0.0547947995364666, 0.03396279737353325, -0.021352844312787056, -0.027494804933667183, -0.021733129397034645, 0.005703511647880077, 0.03145621344447136, -0.02421153150498867, 0.0543362982571125, -0.0029573782812803984, -0.09519195556640625, -0.010316855274140835, -0.00172117177862674, -0.030105192214250565, 0.021661020815372467, 0.06321503221988678, -0.06420960277318954, -0.02841809205710888, 0.016762876883149147, 0.013725168071687222, 0.02364671602845192, 0.024565625935792923, -0.025078309699892998, -0.07807852327823639, -0.03330047056078911, 0.054586559534072876, -0.004992918577045202, -0.04344100132584572, 0.02665652707219124, -0.012602713890373707, -0.02568507008254528, -0.013343410566449165, 0.05116323009133339, -0.006765775382518768, -0.009158672764897346, -0.00285189226269722, -0.005423294845968485, -0.00669947499409318, 0.006746077444404364, 0.0212003905326128, -0.0010965312831103802, 0.02866881899535656, 0.034177809953689575, -0.05463573336601257, -0.021596042439341545, 0.051155440509319305, 0.024337276816368103, 0.0032318003941327333, -0.04108971357345581, 0.02041107416152954, 0.004273674916476011, 0.039347901940345764, -0.04333263263106346, 0.048609983175992966, 0.021734343841671944, 0.0627615749835968, -0.0159209743142128, -0.01534406840801239, 0.05241923779249191, -0.009717325679957867, -0.004882716573774815, -0.07052209973335266, -0.016462326049804688, 0.02467024140059948, 0.08596399426460266, -0.05728568881750107, -0.030137013643980026, -0.024414774030447006, -0.0025573510210961103, -0.03603344410657883, -0.042778290808200836, -0.03294980898499489, -0.0038062797393649817, -0.006083852611482143, -0.04845374822616577, -0.011717709712684155, 0.032761454582214355, 0.03862425684928894, -0.018184637650847435, 0.02904316410422325, 0.012618583627045155, -0.048623789101839066, 0.01700282096862793, 0.03553615137934685, 0.018936090171337128, 0.055257271975278854, -0.018832288682460785, -0.03280474245548248, -0.013372738845646381, 0.0008102959836833179, -0.017296412959694862, 0.03068944253027439, -0.03037644550204277, -0.08603905886411667, -0.0012716975761577487, -0.04446270689368248, 0.008944742381572723, 0.009821374900639057, -0.016798783093690872, -0.030800066888332367, 0.001914993510581553, -0.03605719655752182, 0.029968386515975, 0.03531469777226448, -0.09231553226709366, -0.04281848296523094, 0.01295322086662054, -0.031160743907094002, -0.08615147322416306, 0.05917484313249588, 0.034004393965005875, -0.015977973118424416, -0.024028925225138664, -0.02038639970123768, 0.045442577451467514, -0.009837832301855087, 0.013591758906841278, 0.002840623026713729, -0.008038396947085857, 0.04464323818683624, -0.08902867883443832, 0.06808125227689743, 0.03483111038804054, 0.06116781011223793, -0.02040419913828373, 0.04030057042837143, 0.06824889779090881, 0.009997386485338211, 0.00732258940115571, -0.025652263313531876, 0.03664230927824974, 0.0185539647936821, 0.05390950292348862, -0.026645289734005928, -0.004716596100479364, 0.04108124598860741, 0.014537743292748928, -0.03641323372721672, 0.0032948614098131657, 0.018828880041837692, -0.06024893373250961, 0.008207843638956547, -0.027837900444865227, -0.027380552142858505, 0.03784108906984329, 0.0014979299157857895, 0.012643420137465, -0.04600933939218521, 0.0032625366002321243, -0.005210657138377428, 0.009459937922656536, -0.05305939540266991, -0.035117387771606445, 0.004912588745355606, 0.12955829501152039, 0.05202871933579445, -0.02741290256381035, -0.004681865684688091, -0.042571719735860825, 0.04604022204875946, -0.019170371815562248, 0.04888780787587166, 0.06977588683366776, -0.016321543604135513, -0.010246945545077324, -0.08649598062038422, -0.023440413177013397, 0.0381847620010376, 0.04488092288374901, -0.06349416822195053, 0.03515273705124855, -0.017131051048636436, 0.02263704687356949, 0.022641215473413467, 0.0019428902305662632, 0.008334290236234665, -0.0026779358740895987, -0.02919933944940567, 0.010220020078122616, -0.0017689187079668045, 0.06523992866277695, 0.022615419700741768, -0.015464821830391884, 0.03769910708069801, -0.00916256569325924, -0.02701595611870289, 0.012582624331116676, 0.02551690675318241, 0.036911703646183014, -0.006881590932607651, -0.006155394949018955, -0.014084954746067524, -0.023629499599337578, -0.025272943079471588, 0.08061852306127548, 0.005271696951240301, -0.01562467496842146, 0.01493322104215622, 0.004854833707213402, -0.06038712337613106, 0.00632190378382802, -0.00092066585784778, -0.004761895630508661, 0.052619483321905136, 0.02357722818851471, 0.08210650086402893, -0.10122263431549072, -0.01160495262593031, 0.02320847474038601, 0.0022380866575986147, -0.004117887932807207, 0.021141109988093376, 0.048472389578819275, 0.023693496361374855, -0.03771696984767914, -0.060063377022743225, -0.0456552691757679, -0.0393763929605484, 0.009982473216950893, 0.04134301841259003, 0.019256163388490677, 0.05034898966550827, 0.0269168671220541, -0.01834212988615036, 0.04093513637781143, -0.005856913980096579, 0.06316322833299637, -0.0006732910987921059, 0.023584648966789246, 0.001289830426685512, 0.008190164342522621, -0.015403686091303825, -0.020673610270023346, -0.05141618847846985, -0.005348566919565201, -0.003446022281423211, -0.003442131681367755, -0.0030742676462978125, -0.023625707253813744, -0.005771338939666748, -0.02262345887720585, -0.0057678017765283585, 0.06280427426099777, -0.0046912794932723045, -0.015309087000787258, -0.04467950016260147, -0.03807039186358452, -0.023911582306027412, -0.019012901932001114, 0.05851912871003151, 0.0100669264793396, 0.00268305535428226, -0.06630973517894745, 0.0024591200053691864, -0.01550413016229868, -0.06366928666830063, 0.038584429770708084, -0.02632184326648712, -0.016260625794529915, 0.019342903047800064, -0.013551251962780952, -0.02411842718720436, 0.05469454824924469, 0.04923316836357117, 0.016468163579702377, 0.05381907522678375, 0.02031453512609005, 0.012046570889651775, -0.008592781610786915, 0.028387214988470078, 0.018318355083465576, 0.037907104939222336, -0.016874486580491066, -0.010716250166296959, -0.05628621205687523, -0.06187494471669197, 0.011540423147380352, -0.010105786845088005, 0.005055821500718594, -0.060257092118263245, 0.04136720672249794, -0.024655839428305626, 0.00940209161490202, -0.001102906884625554, 0.056662820279598236, -0.017536835744976997, -0.002064110478386283, -0.01576339267194271, 0.026278646662831306, -0.05192107334733009, 0.037947457283735275, 0.022082149982452393, 0.03836812451481819, -0.004967825021594763, 0.011357909999787807, -0.010924695059657097, -0.03801644593477249, -0.018633371219038963, -0.055796392261981964, -0.007144156843423843, -0.02121700718998909, -0.03346363827586174, -0.027767866849899292, -0.019934747368097305, 0.04155585169792175, 0.059035927057266235, 0.016846520826220512, -0.03856290131807327, 0.03092735819518566, 0.012705270200967789, 0.004696230869740248, -0.02306889370083809, -0.00919650960713625, 0.01658591814339161, -0.04352164268493652, -0.008804184384644032, 0.010320931673049927, 0.0006690589361824095, -0.0020800952333956957, 0.05760036036372185, 0.03290422260761261, -0.03508026525378227, -0.018161233514547348, 0.052567269653081894, 0.09543204307556152, 0.006861508823931217, 0.02472822554409504, -0.035195086151361465, 0.043569985777139664, -0.03017541393637657, 0.012913948856294155, -0.015039531514048576, 0.05750899761915207, -0.008789478801190853, -0.01927422359585762, -0.0311132799834013, -0.026164840906858444, 0.03508187457919121, -0.01300754677504301, -0.0365694984793663, -0.0009790509939193726, -0.023470351472496986, -0.02924845740199089, -0.03363342210650444, -0.0564601831138134, -0.01221959013491869, 0.020218849182128906, 0.0010571378516033292, -0.06181400641798973, 0.016218123957514763, 0.007781886029988527, -0.05495487526059151, 0.04830421879887581, -0.03573432192206383, 0.015055721625685692, 0.04511941224336624, 0.000726583763025701, -0.011247768998146057, -0.04315061494708061, -0.04811069369316101, 0.002049568807706237, -0.005574064329266548, 0.06300375610589981, 0.002764699747785926, 0.008121575228869915, -0.026853393763303757, -0.0828218087553978, -0.0018479932332411408, -0.0701393261551857, 0.04507923871278763, 0.05324289947748184, 0.007283852435648441, -0.004146023653447628, 0.06698138266801834, 0.00895938090980053, 0.02321786805987358, 0.05011608824133873, -0.04918272793292999, -0.0014214360853657126, -0.010383615270256996, -0.003528861328959465, 0.01405966654419899, 0.0766458809375763, -0.018022973090410233, 0.07097036391496658, -0.0392325296998024, 0.04113215208053589, 0.03952491655945778, -0.042230747640132904, 0.0055520497262477875, -0.007453959435224533, -0.02861401066184044, -0.032303839921951294, -0.06009557470679283, -0.04973197355866432, -0.04470013454556465, 0.0010224704165011644, 0.055097546428442, -0.016996344551444054, -0.01373568270355463, 0.05772552266716957, 0.03689007833600044, -0.04773785173892975, -0.016545111313462257, 0.014729470014572144, -0.01818358711898327, -0.07367159426212311, 0.015412327833473682, -0.003666448872536421, -0.02126179076731205, 0.0890255868434906, -0.02322620525956154, -0.04000582545995712, 0.02912808768451214, 0.009311654604971409, -0.12312605232000351, 0.091291144490242, -0.014650062657892704, -0.07283756136894226, -0.040030866861343384, -0.026696430519223213, -0.01199459657073021, 0.02101639285683632, -0.00226248474791646, 0.030833296477794647, -0.060417063534259796, -0.027293125167489052, 0.03382798656821251, 0.026933444663882256, -0.004411998204886913, -0.007240519858896732, 0.02870609611272812, 0.017155468463897705, -0.011048702523112297, 0.025082608684897423, -0.004499840550124645, 0.015340511687099934, 0.016415446996688843, 0.015211592428386211, 0.01850944571197033, -0.05028354004025459, -0.01465162169188261, -0.03662128001451492, 0.002052693162113428, -0.055440910160541534, -0.004030525218695402, 0.012517448514699936, -0.00745269563049078, -0.07540624588727951, -0.002498406218364835, 0.028789717704057693, 0.008478956297039986, 0.008716493844985962, -0.014280186034739017, -0.017269141972064972, 0.026200618594884872, 0.07754164189100266, 0.012178393080830574, 0.007255222648382187, -0.021646203473210335, 0.05026961490511894, -0.018947595730423927, -0.004199459683150053, 0.04149125516414642, -0.01664746180176735, -0.0219305120408535, 0.025003323331475258, 0.024872545152902603, -0.05096224322915077, -0.05421380326151848, 0.03571423143148422, -0.07681438326835632, -6.142926296517942e-33, -0.001434057136066258, -0.0002644866472110152, 0.014165030792355537, -0.008193868212401867, -0.005757028236985207, 0.028929684311151505, -0.0370870977640152, 0.017557155340909958, -0.062343303114175797, -0.02315381169319153, -0.042854420840740204, 0.003170307260006666, 0.012609516270458698, 0.03832334280014038, 0.008157647214829922, -0.0009511312237009406, 0.04357405751943588, 0.005165336187928915, 0.04557880386710167, -0.024838333949446678, 0.003428215393796563, -0.001423797570168972, 0.11403381079435349, -0.009469056501984596, 0.06044410914182663, -0.01480077113956213, -0.033420830965042114, -0.04503370448946953, 0.04914219304919243, -0.016358161345124245, 0.01793212816119194, -0.045792222023010254, -0.0011671889806166291, -0.03068593703210354, -0.012642629444599152, -0.04274634271860123, 0.02449650503695011, -0.0008823659736663103, -0.035936467349529266, -0.011229010298848152, 0.014814424328505993, 0.05134850740432739, 0.0006180508644320071, 0.011629817076027393, 0.009720850735902786, 0.022444067522883415, -0.009675491601228714, 0.010339147411286831, -0.006752484478056431, 0.008503619581460953, -0.023541424423456192, 0.016093987971544266, -0.0031094609294086695, 0.07762665301561356, -0.07275044918060303, 0.030468516051769257, -0.022084597498178482, 0.033230576664209366, -0.0808405876159668, 0.047298964112997055, 0.04515242204070091, 0.004769321996718645, -0.04407800734043121, -0.046710431575775146, 0.0319686233997345, 0.043508633971214294, -0.008459974080324173, 0.04283423721790314, 0.01698393188416958, -0.014855321496725082, -0.022193120792508125, -0.01023479737341404, 0.033809565007686615, 0.09658857434988022, 0.0699886828660965, -0.015270419418811798, 0.03341999650001526, 0.055213481187820435, 0.051369111984968185, -0.002798048546537757, -0.017968082800507545, -0.0020933838095515966, -0.07339315861463547, 0.006164782680571079, 0.004724220838397741, 0.01777070388197899, 0.03966476395726204, 0.0020691982936114073, 0.018479831516742706, 0.02443460188806057, 0.025071509182453156, 0.026347020640969276, -0.019701309502124786, -0.05062941834330559, 0.013329630717635155, -0.008009289391338825, 0.03471348062157631, 0.015327144414186478, -0.010028044693171978, -0.044928744435310364, -0.03861755132675171, -0.06961618363857269, -0.015785815194249153, -0.0059608714655041695, -0.02082543633878231, 0.049987632781267166, -0.04064304381608963, -0.017706789076328278, -0.01859845407307148, 0.024871082976460457, 0.008715472184121609, 0.024758022278547287, 0.05125297233462334, 0.016519272699952126, -0.06257744133472443, -0.0035899304784834385, 0.027609918266534805, -0.031823933124542236, -0.03933356702327728, 0.04124995693564415, 0.018356071785092354, -0.022070692852139473, 0.016346441581845284, 0.08067873865365982, 0.048009373247623444, -0.023384589701890945, -0.08448222279548645, 0.03750397637486458, 0.022420920431613922, -0.06543723493814468, 0.003107247641310096, -0.011922626756131649, 2.773597032046382e-7, -0.0015286686830222607, -0.001800660858862102, 0.017027607187628746, 0.029601795598864555, 0.02314227633178234, 0.09523288905620575, -0.008223267272114754, -0.0014698994345963001, 0.002565313596278429, 0.032009877264499664, 0.020767325535416603, 0.014260484836995602, 0.04541810229420662, 0.032875433564186096, -0.02363368310034275, 0.03189856559038162, -0.04818509519100189, -0.004124067258089781, 0.024273047223687172, -0.011972225271165371, -0.0012773271882906556, -0.025800220668315887, 0.0016776471165940166, -0.007644024211913347, 0.00016615696949884295, -0.05977226421236992, 0.009461858309805393, -0.04243127256631851, -0.021276062354445457, -0.057073403149843216, 0.00019405054626986384, 0.06284253299236298, 0.03247739002108574, -0.023654019460082054, -0.0025381245650351048, -0.00022884113423060626, -0.0195232555270195, -0.03541303426027298, -0.003363822354003787, 0.0010973990429192781, 0.009123945608735085, -0.06354523450136185, -0.016811607405543327, -0.031152645125985146, -0.004447775427252054, -0.010943460278213024, 0.005998589564114809, -0.08015657216310501, -0.022379038855433464, 0.07967311888933182, 0.056695081293582916, 0.007521399762481451, -0.0776027962565422, -0.03341551125049591, 0.008168802596628666, 0.02810494601726532, -0.03421648591756821, 0.06468983739614487, 0.05168454349040985, -0.03983132541179657, -0.032803330570459366, 0.058522213250398636, 0.017990196123719215, 0.04744650050997734, -0.044484175741672516, -0.03650801256299019, 0.006576982326805592, 2.4596381292053924e-34, 0.0026914302725344896, -0.029974432662129402, 0.06362447887659073, 0.03691406175494194, 0.050671376287937164, 0.02982117235660553, -0.030659986659884453, -0.034019023180007935, 0.016790781170129776, -0.011570518836379051, 0.019979897886514664}

func TestGetSimilar(t *testing.T) {
	sim, err := GetSimilar("192.168.100.4:18082", vecs, 21)
	require.NoError(t, err)

	fmt.Println(sim)
}
